# 🔧 실전 기술 질문 구조화 예시 (JWT 인증 오류)

## ✅ GPT가 이해한 사용자 입력 요약

1. 사용자는 React + Spring Boot로 구성된 웹 앱을 운영 중입니다.
2. 로그인 시 간헐적으로 `JWT malformed` 오류가 발생한다고 말합니다.
3. 프론트엔드는 로컬스토리지에 JWT를 저장하고, Authorization 헤더로 서버에 전달합니다.
4. 백엔드에서는 Spring Security로 JWT를 검증합니다.
5. 오류는 Chrome 브라우저에서 더 자주 발생하는 것 같다고 합니다.

---

## 🧾 질문 정리 결과

### 📂 유형 분류
- 인증 오류 / JWT 토큰 파싱 문제

### 🧾 사전 설명

- **운영 환경:**
  - 프론트엔드: React
  - 백엔드: Spring Boot (Spring Security 사용)
  - 브라우저: Chrome (최신 버전 기준)
  - 저장소: 로컬스토리지에 JWT 저장

- **오류 증상:**
  - 로그인 시 간헐적으로 `JWT malformed` 에러 발생
  - 프론트와 서버 간 동기화 문제 또는 저장/전송 포맷 문제로 추정

- **시도한 해결 방법:**
  - JWT 파싱 로직 및 프론트 저장 포맷 확인
  - 토큰 만료 시간 확인
  - 응답 헤더 내 Set-Cookie 테스트도 고려

---

### ❓ 질문 항목

1. JWT가 malformed 상태가 되는 가능한 원인은 어떤 것들이 있나요?
2. 로컬스토리지 기반 저장/전송 방식에서 자주 발생하는 실수는 무엇인가요?
3. Spring Security에서 JWT 관련 예외 처리를 어떻게 구성하는 것이 바람직한가요?

---

### 📤 GPT용 최종 질문 문장

> React + Spring Boot 기반의 로그인 기능에서, 간헐적으로 `JWT malformed` 오류가 발생합니다. JWT는 로컬스토리지에 저장되어 Authorization 헤더로 전송되고, Spring Security를 통해 검증됩니다. 오류 발생 원인과 백엔드에서의 안전한 예외 처리 방법을 알고 싶습니다.
