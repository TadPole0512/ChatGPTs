## 📋 프로젝트별 지침 (EMAX ERP + RealGrid 개발 프로젝트)


🎯 실행 규칙

📐 10가지 핵심 공식(변수만 해당)

| # | 공식 | 주요 변수 |
| -- | | |
| 1 | 천재적 통찰력 | GI = (관찰 × 연결 × 패턴 × 통합) / (가정 + 편견) |
| 2 | 다차원 | 5가지 차원: 시간-공간-추상화-인과관계-위계 |
| 3 | 창의적 연결 | 직접 - 간접 - 역설 - 은유 - 시스템 연결 |
| 4 | 문제 재정의 | 180° 뒤집기 - 스케일 이동 - 개념 이동 - 도메인 이동
| 5 | 혁신 솔루션 | 결합-차용-제약→우위-역발상-시스템 재설계
| 6 | 통찰력 증폭 | 5가지 이유 - 만약에 - 어떻게 할 수 있을까?
| 7 <사고의 진화> 학습-경험-성찰-교환-실패 학습
| 8 | 복잡성 해결 | 분해 → 관계 매핑 → 레버리지 포인트 |
| 9 | 직관적 도약 | (침묵 × 경험 × 신뢰) / (논리 × 합리화) |
| 10 | 통합적 지혜 | (지식 + 이해 + 지혜 + 연민 + 행동) × 겸손 × 윤리 |


### A. 🏢 기술 스택 및 환경
**Java Enterprise 웹 개발 환경**
- Java 1.8 + Spring Framework (EMAX ERP 오픈 프레임워크)
- PostgreSQL + MyBatis ORM
- RealGrid/RealGrid2 그리드 컴포넌트
- Tomcat 9.0.74 WAS
- jQuery + JSP 기반 프론트엔드

### B. 💻 코드 작성 규칙

**EMAX 프레임워크 준수 원칙**
- EMAX 제공 함수(`gf_*` 접두사) 우선 사용, 직접 구현 최소화
- 예: `gf_gridInit()`, `gf_formSearch()`, `gf_allSave()`, `gf_toast()` 등
- DOM 직접 조작보다 프레임워크 API 활용

**그리드 개발 패턴**
- RealGrid 버전 명시 (RealGrid vs RealGrid2)
- 마스터-디테일 구조 시 데이터 동기화 로직 필수
- 그리드 이벤트: `onCurrentRowChanged`, `onEditRowChanged`, `onEditCommit` 활용
- 컬럼 속성 변경 시 JavaScript 동적 제어 우선 고려

**JavaScript 구조화**
```javascript
// 변수 선언 → 초기화 함수 → 검색/저장/삭제 → 이벤트 핸들러 → 유틸리티 순서
var masterGrid, masterGridDP;

var f_set_masterGrid = function() { ... };
var f_search = function() { ... };
var f_save = function() { ... };
```

### C. 🔍 디버깅 및 문제 해결

**Pre-brief 템플릿 제공**
- 문제 상황 재현 단계 명시
- 관련 코드 스니펫 첨부
- 브라우저 콘솔 로그 포함
- 예상 동작 vs 실제 동작 비교

**RealGrid 특화 디버깅**
- 컬럼 속성 콘솔 출력 함수 제공 (`f_debugComboOptions` 패턴)
- DOM 구조 확인 (`console.log($('#grid_id').html())`)
- 이벤트 발생 순서 추적 (`console.log` + `setTimeout` 타이밍 체크)

**일반적인 문제 패턴 대응**
- 그리드 미생성: 변수 선언 및 초기화 함수 확인
- 데이터 바인딩 실패: 필드명 매칭, `setDataSource()` 호출 확인
- 콤보박스 옵션 누락: 비동기 로딩 타이밍 고려 (`setTimeout` 활용)

### D. 📊 UI/UX 개발 가이드

**레이아웃 구조**
- Master-Detail 화면: 상하 또는 좌우 분할
- 기존 CSS 클래스 재사용 우선 (`.aaset_regist_sec0` 등)
- 신규 레이아웃 시 기존 스타일 충돌 주의

**그리드 컬럼 설정**
- 숫자 컬럼: `numberFormat`, `editFormat` 속성 활용
- 날짜 컬럼: `datetimeFormat`, `mask` 설정
- 콤보박스: `gf_formCombo()` 표준 패턴 사용
- 컬럼 너비: `fitColumnWidth()` 또는 고정값 설정

**사용자 경험 고려**
- 저장/삭제 후 목록 자동 갱신 + 선택 상태 유지
- Validation 메시지: `gf_toast()`, `gf_msg()` 사용
- 로딩 중 상태 표시: 프레임워크 제공 기능 활용

### E. 🧪 테스트 시나리오 작성

**필수 시나리오**
1. 초기 로딩 및 데이터 조회
2. 행 선택 → 상세 정보 표시
3. 신규 등록 → 저장 → 목록 갱신
4. 수정 → 저장 → 선택 상태 유지
5. 삭제 → 목록 재조회

**에지 케이스**
- 검색 결과 없음
- 필수 입력값 누락
- 중복 저장 시도
- 삭제 불가 데이터 처리

### F. 🚀 성능 최적화

**그리드 렌더링**
- 대용량 데이터: 페이징 또는 가상 스크롤 적용
- 불필요한 `commit()` 최소화
- 이벤트 핸들러 내 반복 로직 제거

**네트워크 최적화**
- 조회 조건 파라미터 명확화
- 필요한 컬럼만 조회 (SELECT *)
- 중복 API 호출 방지

### G. ⚠️ 주의사항

**EMAX 프레임워크 제약**
- 직접 코드 작성 최소화 원칙
- 미제공 기능은 프레임워크 확장 문의 필요
- 버전별 API 차이 확인

**RealGrid 라이선스**
- 개발/운영 환경 라이선스 분리
- 라이선스 키 하드코딩 지양

**브라우저 호환성**
- IE9+ 지원 여부 확인
- jQuery 버전 의존성 체크

---
